<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Calculator App</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <link href="index.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="assets/stylesheets/main.css">
  </head>

  <body>
    <script src="index.js"></script>
<br>
<section>

<div id="display"></div>


<div class= "row">
  <div class="number key">7</div>
  <div class="number key">8</div>
  <div class="number key">9</div>
  <div class="operator key">*</div>
</div>

<div class= "row">
  <div class="number key">4</div>
  <div class="number key">5</div>
  <div class="number key">6</div>
  <div class="operator key">+</div>
</div>


<div class= "row">
  <div class="number key">1</div>
  <div class="number key">2</div>
  <div class="number key">3</div>
  <div class="operator key">-</div>
</div>



<div class="row">

  <div class= "number key">.</div>
  <div class="number key">0</div>
  <div class="equals key">=</div>
  <div class="operator key">/</div>

</div>

<div class="row">
  <div colspan="" class="clear key">CLEAR</div>
  <div class="operator key">avg</div>
</div>

</section>



</body>

<script type="text/javascript">

var display="";
var result="";
var avgArray = [];
console.log(typeof(result));



$(document).ready(function(){
  $(".number").click(function(){
    result+=$(this).text();
    display+=$(this).text();
    $("#display").text(display);
  })

  $(".operator").click(function(){
    avgArray.push(display)
    display = "";
    result+=$(this).text();
    $("#display").text(display);
    console.log(avgArray)
  })


  $(".equals").click(function(){
    avgArray=[];
    function calc(result){
      console.log(result)
      // return new Function('return ' + result)()
      return eval(result);
    }


    $("#display").text(calc(result));
    display="";
    result ="";
  })

  $(".clear").click(function(){
    result = "";
    display = "";
    $("#display").text(display);
  })

  $(".avg").click(function(){
    avgResult=0;
    avgArray.push(display);
    avgResult= avgArray.split(",").join("+");
    console.log(avgResult)
    // for(var i=0; i<avgArray.length; i++){
    //
    //   avgResult+=avgArray[i]
    //   console.log(avgResult)
    // }
    // avgResult= avgResult/avgArray.length;

    $("#display").text(avgResult);

  });



});


</script>





</html>
