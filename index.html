<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Calculator App</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <link href="index.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="assets/stylesheets/main.css">
  </head>

  <body>
    <script src="index.js"></script>
<br>
<section>

<div id="display"></div>

<!-- Key Styling -->
<!-- <div class="box">
  <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
  <div class="keyface">

</div>
</div> -->

<div class="">



<div class= "row">

  <div class="box">
    <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
    <div class="number key keyface">7</div>
</div>

<div class="box">
  <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
<div class="number key keyface">8</div>
</div>

<div class="box">
  <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
<div class="number key keyface">9</div>
</div>


<div class="box">
  <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
<div class="operator key keyface">*</div>
</div>

</div>

<div class= "row">

  <div class="box">
    <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
  <div class="number key keyface">4</div>
</div>

<div class="box">
  <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
  <div class="number key keyface">5</div>
</div>

<div class="box">
  <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
  <div class="number key keyface">6</div>
</div>

<div class="box">
  <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
  <div class="operator key keyface">+</div>
</div>

</div>


<div class= "row">

  <div class="box">
    <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
    <div class="number key keyface">1</div>
  </div>

  <div class="box">
    <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
    <div class="number key keyface">2</div>
  </div>

  <div class="box">
    <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
    <div class="number key keyface">3</div>
  </div>

  <div class="box">
    <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
    <div class="operator key keyface">-</div>
  </div>

</div>



<div class="row">

  <div class="box">
    <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
    <div class= "number key keyface">.</div>
  </div>

  <div class="box">
    <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
    <div class="number key keyface">0</div>
  </div>

  <div class="box">
    <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
    <div class="equals key keyface">=</div>
  </div>

    <div class="box">
      <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
      <div class="operator key keyface">/</div>
    </div>

</div>

<div class="row">

  <div class="box">
    <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
    <div class="clear key keyface">C</div>
  </div>

  <div class="box">
    <div class="top"></div><div class="left"></div><div class="right"></div><div class="bottom"></div>
    <div class="operator key keyface avg">avg</div>
  </div>

</div>


</div>

</section>



</body>

<script type="text/javascript">

var display="";
var result="";
var avgArray = [];



$(document).ready(function(){
  $(".number").click(function(){
    result+=$(this).text();
    display+=$(this).text();
    $("#display").text(display);
  })

  $(".operator").click(function(){
    avgArray.push(display)
    display = "";
    result+=$(this).text();
    $("#display").text(display);
    console.log(avgArray)
  })


  $(".equals").click(function(){
    avgArray=[];
    function calc(result){
      console.log(result)
      // return new Function('return ' + result)()
      return eval(result);
    }


    $("#display").text(calc(result));
    display="";
    result ="";
  })

  $(".clear").click(function(){
    avgArray=[];
    result = "";
    display = "";
    $("#display").text(display);
  })

  $(".avg").click(function(){
    function findAverage(arr){

  	var avgTotal = arr.join("+");

  	avgTotal = eval(avgTotal)/arr.length;

  	console.log(avgTotal);
    $("#display").text(avgTotal);
    }
    findAverage(avgArray);
    avgArray=[];
});



});


</script>





</html>
